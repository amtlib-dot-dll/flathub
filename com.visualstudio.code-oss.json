{
    "app-id": "com.visualstudio.code-oss",
    "branch": "stable",
    "runtime": "org.gnome.Platform",
    "runtime-version": "3.26",
    "sdk": "org.gnome.Sdk",
    "command": "code-oss",
    "separate-locales": false,
    "finish-args": [
        "--share=ipc",
        "--socket=x11",
        "--socket=pulseaudio",
        "--share=network",
        "--device=dri",
        "--filesystem=home",
        "--persist=.vscode-oss",
        "--talk-name=org.freedesktop.Notifications"
    ],
    "modules": [
        {
            "name": "libsecret",
            "config-opts": [
                "--disable-manpages",
                "--disable-gtk-doc",
                "--disable-static",
                "--disable-introspection"
            ],
            "cleanup": [
                "/bin",
                "/include",
                "/lib/pkgconfig",
                "/share/gtk-doc",
                "*.la"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/GNOME/libsecret.git",
                    "tag": "0.18.5",
                    "commit": "0c468b56b074d8b8cf29e58f3c488f12161a3969"
                }
            ]
        },
        {
            "name": "libxkbfile",
            "cleanup": [
                "/include",
                "/lib/*.la",
                "/lib/pkgconfig"
            ],
            "config-opts": [
                "--disable-static"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/freedesktop/libxkbfile.git",
                    "tag": "libxkbfile-1.0.9",
                    "commit": "de4f2307448583988a55a587cb6a3f43e4868378"
                }
            ]
        },
        {
            "name": "nodejs",
            "cleanup": [
                "/include",
                "/share",
                "/app/lib/node_modules/npm/changelogs",
                "/app/lib/node_modules/npm/doc",
                "/app/lib/node_modules/npm/html",
                "/app/lib/node_modules/npm/man",
                "/app/lib/node_modules/npm/scripts"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/nodejs/node.git",
                    "tag": "v8.9.4",
                    "commit": "d6bf5d166a81a50b4e895c59d4299443f33c3a76"
                }
            ]
        },
        {
            "name": "vscode",
            "buildsystem": "simple",
            "build-commands": [
                "bash build.sh",
                "install -Dm644 vscode/resources/linux/code.png /app/share/icons/hicolor/1024x1024/apps/com.visualstudio.code-oss.png",
                "install -Dm644 com.visualstudio.code-oss.appdata.xml /app/share/appdata/com.visualstudio.code-oss.appdata.xml",
                "install -Dm644 com.visualstudio.code-oss.desktop /app/share/applications/com.visualstudio.code-oss.desktop"
            ],
            "cleanup": [],
            "sources": [
                {
                    "type": "file",
                    "url": "https://github.com/yarnpkg/yarn/releases/download/v1.3.2/yarn-1.3.2.js",
                    "sha512": "f2d0a882f03b4f6ec7562558dca92a8120a921ca23b55f2aee576c3440fb7cdef9fd77672394888fcf1e9cd49c46a3d1d652b63c770976aad8cd388cc2a66459",
                    "dest": ".bin",
                    "dest-filename": "yarn.js"
                },
                {
                    "type": "file",
                    "url": "https://atom.io/download/electron/v1.7.9/iojs-v1.7.9.tar.gz",
                    "sha512": "527d00969e2b88cb0c8fbf74c293fb65065d5a7a1139672c53340765ca83692c0a61e604ec3de74667ebde556378ba854e3230565883b0efb503d066c3dff851",
                    "dest": "misc"
                },
                {
                    "type": "file",
                    "url": "https://github.com/electron/electron/releases/download/v1.7.0/mksnapshot-v1.7.0-linux-x64.zip",
                    "sha512": "c23659fd89a6186dbe56733535f36e7fa0376d7066ef0ce2843307331a0a743c014a96212492967fb7a9b089b3aad4d0bef6a21666dcf768a7e5ff394eab2b17",
                    "dest": ".electron"
                },
                {
                    "type": "file",
                    "url": "https://github.com/electron/electron/releases/download/v1.7.0/chromedriver-v1.7.0-linux-x64.zip",
                    "sha512": "c2158bbd0c2ed28ad85cae9d400bd6416f0e4aa411e70287ccfaa4ad61b60692b17e0c6452a064ad55a396a5ad9e0253c5b3a0d75b91182995ab9fa25764d736",
                    "dest": ".electron"
                },
                {
                    "type": "file",
                    "path": "SHASUMS256.txt-1.7.0",
                    "dest": ".electron"
                },
                {
                    "type": "file",
                    "url": "https://github.com/electron/electron/releases/download/v1.7.7/electron-v1.7.7-linux-x64.zip",
                    "sha512": "1c78c031442cddedab0923d474ccb4e12a21f3189b0f091db3df1a9c851f765a468e96bf4ee7cee2354af1237e5e26f12febd0c72945821f0c4e137733f86089",
                    "dest": ".electron"
                },
                {
                    "type": "file",
                    "path": "SHASUMS256.txt-1.7.7",
                    "dest": ".electron"
                },
                {
                    "type": "file",
                    "url": "https://github.com/electron/electron/releases/download/v1.7.9/electron-v1.7.9-linux-x64.zip",
                    "sha512": "55c7c81f25632e95a1411da8465281d576da609c830e4126f2326ee272b89b8107d0e043ba334261fff6de66347ec3e570d5530f7ce85a348962d18e84843b98",
                    "dest": "gulp-electron-cache/atom/electron"
                },
                {
                    "type": "file",
                    "url": "https://github.com/electron/electron/releases/download/v1.7.9/ffmpeg-v1.7.9-linux-x64.zip",
                    "sha512": "5af1e2fcda46dc142f27252724041f295e16acf0884bacf8b8e8f5cb43d9c337f577eb0cce477830cc1c838ae6a4bb03ae8ac5eec4eba3505a9b741cea5feb7f",
                    "dest": "gulp-electron-cache/atom/electron"
                },
                {
                    "type": "file",
                    "url": "https://github.com/roblourens/ripgrep/releases/download/0.7.1-patch.1/ripgrep-0.7.1-patch.1-linux-x64.zip",
                    "sha512": "9ce9aac7198d2999c0c3ee9678c595139c6020c3529ac145502e1b44147694885dc6256aaad590c6a5cb349f751d8cad15e71bc6819619efc209758087dd024e",
                    "dest": "misc"
                },
                "generated-sources.json",
                {
                    "type": "git",
                    "url": "https://github.com/Microsoft/vscode.git",
                    "tag": "1.20.1",
                    "commit": "f88bbf9137d24d36d968ea6b2911786bfe103002",
                    "dest": "vscode"
                },
                {
                    "type": "file",
                    "path": "com.visualstudio.code-oss.appdata.xml"
                },
                {
                    "type": "file",
                    "path": "com.visualstudio.code-oss.desktop"
                },
                {
                    "type": "file",
                    "path": "build.sh"
                }
            ]
        }
    ]
}
